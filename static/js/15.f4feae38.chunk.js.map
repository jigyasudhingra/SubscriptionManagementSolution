{"version":3,"sources":["Screens/Home/WebApp.tsx"],"names":["SCOPES_URL_PARAM","join","WebApp","useEffect","window","location","hash","substring","split","reduce","accumulater","currentValue","console","log","key","value","access_token","expires_in","token_type","localStorage","clear","setItem","className","onClick"],"mappings":"8KAYMA,EANS,CAIb,qBAE8BC,KAPR,OAmDTC,UA1BA,WACbC,qBAAU,WACR,GAAIC,OAAOC,SAASC,KAAM,CACxB,MACmCF,OAAOC,SAASC,KAhBvBC,UAAU,GACHC,MAAM,KACXC,QAAO,SAACC,EAAkBC,GAC1DC,QAAQC,IAAIF,GACZ,MAAqBA,EAAaH,MAAM,KAAxC,mBAAOM,EAAP,KAAYC,EAAZ,KAEA,OADAL,EAAYI,GAAOC,EACZL,IACN,IAQSM,EAAR,EAAQA,aAAcC,EAAtB,EAAsBA,WAAYC,EAAlC,EAAkCA,WAGlCC,aAAaC,QAEbD,aAAaE,QAAQ,cAAeL,GACpCG,aAAaE,QAAQ,YAAaH,GAClCC,aAAaE,QAAQ,YAAaJ,OAQtC,OACE,yBAAKK,UAAU,aACb,kCACA,4BAAQC,QAPQ,WAClBnB,OAAOC,SAAP,UA1C+B,yCA0C/B,sBA3Cc,mCA2Cd,yBAzC6B,qEAyC7B,kBAAyHL,EAAzH,2CAME","file":"static/js/15.f4feae38.chunk.js","sourcesContent":["import React, { useEffect } from \"react\";\n\nconst CLIENT_ID = \"60bd87593ce743a8b6db8aaad9bf58ee\"; // insert your client id here from spotify\nconst SPOTIFY_AUTHORIZE_ENDPOINT = \"https://accounts.spotify.com/authorize\";\nconst REDIRECT_URL_AFTER_LOGIN = \"https://jigyasudhingra.github.io/SubscriptionManagementSolution/#/\";\nconst SPACE_DELIMITER = \"%20\";\nconst SCOPES = [\n//   \"user-read-currently-playing\",\n//   \"user-read-playback-state\",\n//   \"playlist-read-private\",\n  \"user-read-private\"\n];\nconst SCOPES_URL_PARAM = SCOPES.join(SPACE_DELIMITER);\n\n/* \nhttp://localhost:3000/webapp#access_token=ABCqxL4Y&token_type=Bearer&expires_in=3600\n*/\nconst getReturnedParamsFromSpotifyAuth = (hash: any) => {\n  const stringAfterHashtag = hash.substring(1);\n  const paramsInUrl = stringAfterHashtag.split(\"&\");\n  const paramsSplitUp = paramsInUrl.reduce((accumulater: any, currentValue: any) => {\n    console.log(currentValue);\n    const [key, value] = currentValue.split(\"=\");\n    accumulater[key] = value;\n    return accumulater;\n  }, {});\n\n  return paramsSplitUp;\n};\n\nconst WebApp = () => {\n  useEffect(() => {\n    if (window.location.hash) {\n      const { access_token, expires_in, token_type } =\n        getReturnedParamsFromSpotifyAuth(window.location.hash);\n\n      localStorage.clear();\n\n      localStorage.setItem(\"accessToken\", access_token);\n      localStorage.setItem(\"tokenType\", token_type);\n      localStorage.setItem(\"expiresIn\", expires_in);\n    }\n  });\n\n  const handleLogin = () => {\n    window.location = `${SPOTIFY_AUTHORIZE_ENDPOINT}?client_id=${CLIENT_ID}&redirect_uri=${REDIRECT_URL_AFTER_LOGIN}&scope=${SCOPES_URL_PARAM}&response_type=token&show_dialog=true` as any;\n  };\n\n  return (\n    <div className=\"container\">\n      <h1>hi</h1>\n      <button onClick={handleLogin}>login to spotify</button>\n      {/* <SpotifyGetPlaylists /> */}\n    </div>\n  );\n};\nexport default WebApp;"],"sourceRoot":""}